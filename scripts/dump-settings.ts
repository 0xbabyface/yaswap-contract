import { ethers } from "hardhat";

import * as config from "../deployed-info.json";

(BigInt.prototype as any).toJSON = function () {
  return this.toString();
};

async function main() {
  const fibProxy = await ethers.getContractAt("FibTradeProxy", config.polygon.fibProxy);

  console.log(`feeRatio:  ${await fibProxy.implementation()}`)

  // const a = fibProxy.interface.decodeFunctionData('swap', '0x877fd9bb0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000c2132d05d31c914a87c6611c10748aeb04b58e8f0000000000000000000000008f3cf7ad23cd3cadbd9735aff958023239c6a06300000000000000000000000000000000000000000000000000000000000f4240000000000000000000000000a748d6573aca135af68f2635be60cb80278bd8550000000000000000000000000000000000000000000000000000000000000140000000000000000000000000ea156a8a29fc61999c079bcc9906a7e0bd8c0e4e0000000000000000000000003b86917369b83a6892f553609f3c2f439c184e310000000000000000000000000000000000000000000000000d2e00afb5a61fe7000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000006400000000000000000000000000000000000000000000000000000000000000484b80c2f090000000000000000000000000000000000000000000000000000000000018775000000000000000000000000c2132d05d31c914a87c6611c10748aeb04b58e8f0000000000000000000000008f3cf7ad23cd3cadbd9735aff958023239c6a06300000000000000000000000000000000000000000000000000000000000f42400000000000000000000000000000000000000000000000000d2e00afb5a61fe700000000000000000000000000000000000000000000000000000000657c741c000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000000460000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000f4240000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000160000000000000000000000000c2132d05d31c914a87c6611c10748aeb04b58e8f00000000000000000000000000000000000000000000000000000000000000010000000000000000000000007a8f557916d99945eaf2f8763935a70bdc81f65000000000000000000000000000000000000000000000000000000000000000010000000000000000000000007a8f557916d99945eaf2f8763935a70bdc81f6500000000000000000000000000000000000000000000000000000000000000001800000000000000000002710254aa3a898071d6a2da0db11da73b02b4646078f0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000060000000000000000000000000c2132d05d31c914a87c6611c10748aeb04b58e8f0000000000000000000000008f3cf7ad23cd3cadbd9735aff958023239c6a0630000000000000000000000000000000000000000000000000000000000000064000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b3030697138307a414730310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041b28fea86a8b37d3adf4609c371d8402f903df9ca9aef5b03610c63c3681641005fd5e9ce89ac9534981f6cd532b242b4307ac406333304a1a73d095428a8f77b0100000000000000000000000000000000000000000000000000000000000000');

  // console.log(`${JSON.stringify(a, null, "  ")}`)

}

main();
